# Template for team validator runtime configuration
# Copy this to validators/<team>/run_validator.yaml and adjust as needed

# Docker image used to run the node
image: eqlabs/pathfinder:latest

# Persistent storage for the validator node
# This data will be persisted across restarts and redeployments/upgrades.
data_dir: /usr/share/pathfinder/data

# Size of the persistent disk for the validator node (in GB)
db_disk_gb: 50

# Where to place the identity file for the validator node
# Ensure this matches the CLI flag below.
p2p_identity_path: /identity.json

# Default environment variables
env:
    RUST_LOG: info

# Command-line arguments using placeholders:
#   {{address}}, {{node_name}}, {{peer_id}}, {{team}}, {{listen_addresses}}, {{bootstrap_addrs}}, {{validator_addrs}}, {{network}}
# These will be filled in per-validator at deployment time.
cmd:
    - "--validator-address={{address}}"
    - "--p2p.consensus.identity-config-file=/identity.json"
    - "--p2p.consensus.listen-on={{listen_addresses}}"
    - "--p2p.consensus.bootstrap-addresses={{bootstrap_addrs}}"
    - "--validators={{validator_addrs}}"
    - "--network={{network}}"
    - "--wal-directory=./wal-{{node_name}}"
    - "--db-file=./db-{{node_name}}"
